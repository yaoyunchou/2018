webpackJsonp([7],{"3tEa":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("4YfN"),n=a.n(s),i=a("9rMa"),l={name:"Msglist",data:function(){return{tableData:[],pageSize:10,pageNumber:1,total:0}},metaInfo:{title:"消息列表"},methods:n()({},Object(i.b)("design",["getList","updateItem","sendMsg"]),{updateRow:function(t){var e=this;this.updateItem({id:t.id,isEnable:t.isEnable}).then(function(t){t.isSuccess?e.$message("修改成功!"):e.$message("修改失败!")})},deleteRow:function(t){var e=this;this.updateItem({id:t.id,isDeleted:"1"}).then(function(t){t.isSuccess?e.$message("修改成功!"):e.$message("修改失败!")})},send:function(t){this.sendMsg({msgId:t.id}).then(function(t){t.isSuccess?self.$message("发送成功!"):self.$message("发送失败!")})},addMsg:function(){this.$router.push({name:"design",params:{id:"create"}})},goDetail:function(t){this.$router.push({name:"design",params:{id:t._id}})},goPage:function(t){var e=this;console.log(t);var a={pageNumber:t};this.getList(a).then(function(t){t.isSuccess&&(e.pageNumber=t.data.pageNumber,e.total=t.data.total,e.pageSize=t.data.page,e.tableData=t.data.dataList)})}}),mounted:function(){var t=this;this.getList().then(function(e){e.isSuccess&&(t.pageNumber=e.data.pageNumber,t.total=e.data.total,t.pageSize=e.data.page,t.tableData=e.data.dataList)})}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"msg-list"},[a("div",{staticClass:"head"},[a("el-button",{attrs:{size:"medium"},on:{click:function(e){t.addMsg()}}},[t._v("添加")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:" ",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"600"}}),t._v(" "),a("el-table-column",{attrs:{label:"消息类型",width:"500"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s("pc"==e.row.type?"pc作品":"手机作品")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"author",label:"作者",width:"300"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.goDetail(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"}},[t._v("查看")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.pageNumber,"page-size":t.pageSize,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.goPage,"update:currentPage":function(e){t.pageNumber=e}}})],1)},staticRenderFns:[]};var o=a("Z0/y")(l,u,!1,function(t){a("dG+N")},"data-v-54e2214c",null);e.default=o.exports},"dG+N":function(t,e){}});
//# sourceMappingURL=7.7ed42b75ae11d94fd5c9.js.map