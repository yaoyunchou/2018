webpackJsonp([4],{"E/3R":function(e,t){},ahjJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("4YfN"),i=a.n(s),n=a("9rMa"),u={name:"Msglist",data:function(){return{images:[],pageSize:10,pageNumber:1,total:0}},metaInfo:{title:"消息列表"},methods:i()({},Object(n.b)("gallery",["getList","updateItem","sendMsg"]),{updateRow:function(e){var t=this;this.updateItem({id:e.id,isEnable:e.isEnable}).then(function(e){e.isSuccess?t.$message("修改成功!"):t.$message("修改失败!")})},deleteRow:function(e){var t=this;this.updateItem({id:e.id,isDeleted:"1"}).then(function(e){e.isSuccess?t.$message("修改成功!"):t.$message("修改失败!")})},send:function(e){this.sendMsg({msgId:e.id}).then(function(e){e.isSuccess?self.$message("发送成功!"):self.$message("发送失败!")})},addMsg:function(){this.$router.push({name:"design",params:{id:"create"}})},goDetail:function(e){this.$router.push({name:"design",params:{id:e._id}})},goPage:function(e){var t=this;console.log(e);var a={pageNumber:e};this.getList(a).then(function(e){e.isSuccess&&(t.pageNumber=e.data.pageNumber,t.total=e.data.total,t.pageSize=e.data.page,t.images=e.data.dataList)})}}),mounted:function(){var e=this;this.getList().then(function(t){t.isSuccess&&(e.pageNumber=t.data.pageNumber,e.total=t.data.total,e.pageSize=t.data.page,e.images=t.data.dataList)})}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"image-list"},[a("div",{staticClass:"head"},[a("el-button",{attrs:{size:"medium"},on:{click:function(t){e.addMsg()}}},[e._v("添加")])],1),e._v(" "),a("ul",{staticClass:"image-box-list"},e._l(e.images,function(t){return a("li",[a("div",{staticClass:"image-box"},[a("img",{directives:[{name:"src",rawName:"v-src",value:t.url,expression:"image.url"}],attrs:{alt:""}})]),e._v(" "),a("div",{staticClass:"tool-bars"})])})),e._v(" "),a("div",{staticClass:"clear-fix"}),e._v(" "),a("el-pagination",{attrs:{"current-page":e.pageNumber,"page-size":e.pageSize,layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.goPage,"update:currentPage":function(t){e.pageNumber=t}}})],1)},staticRenderFns:[]};var c=a("Z0/y")(u,r,!1,function(e){a("E/3R")},"data-v-8c5661cc",null);t.default=c.exports}});
//# sourceMappingURL=4.44fc01ce985757c3da74.js.map